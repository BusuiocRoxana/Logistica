<!DOCTYPE html>
<html>
<body>

<p>Click the button to trigger a function that will output "Hello World" in a p element with id="demo".</p>

<button onclick="foo()">Click me</button>

<p id="demo"></p>

<script>
function myFunction() {
    document.getElementById("demo").innerHTML = "Hello World";
}
function foo(){
document.getElementById("demo").innerHTML = "Start";
var request = new XMLHttpRequest();
request.open('POST', "https://fcm.googleapis.com/fcm/send", true);
request.setRequestHeader('Content-Type', 'application/json');
request.setRequestHeader('Authorization', 'key=AAAAVNU4yx8:APA91bFPqjAAqw9GEEb_RAnDsujxTR-sE-cQ8zxFQAU1t13Z3XNrR8NwK8gIBoSreVVte5nShz13qW21pt4PqCh__YZmG64Y9kE0iRWoc7aFr9eaW6IFlKoR4UVup2nOvPba7NCJXXGH');

document.getElementById("demo").innerHTML = "Start 2";
request.onreadystatechange = function () {
    if (request.readyState === 4) {
       alert(request.responseText);
    }
    document.getElementById("demo").innerHTML = "Callback finished";
}
request.send('{'+
  '"to" : "eFGq6m0IBpw:APA91bHTsc6eARAzFJ1jILaGJybiN0ifp--koTj3MaL1KaJJhCgkY3pcVtGCbywe5ctPwmx7VrO41YavcLzW0kPk04pVdO6GtCTnlzSxf785q6v94QDo6DS3PrWyh6IgwEnTxSa94Cj3",'+
  '"notification" : { "title" : "From HTML" , "body" : "123456" }'+
'}');

document.getElementById("demo").innerHTML = "Attempting send";
}
</script>

</body>
</html>

